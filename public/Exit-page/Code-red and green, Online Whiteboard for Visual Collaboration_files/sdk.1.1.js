/*! For license information please see sdk.1.1.js.LICENSE.txt */
(()=>{var e=[function(e,t,n){var o;o=function(){var e=!0,t=["name","version","osversion","appVersion"],n=["a","c","x","msie","msedge","chrome","firefox","safari","opera","yandexbrowser","webkit","gecko","tablet","mobile","ios","android","mac","linux","ipados","embedGenerator","uwpApp","uwpDesktopApp","uwpTeamApp","uwpPublicApp","desktopApp","mobileApp","tabletApp","webView","desktop","desktopWithTouch","isTouchSupported","isTouchSupportedAndNotDesktop","winDesktopAppWithTouch","appDetected","isPartnerApp","liveEmbedMode","canUseSyntheticMouseEvents","isPointerEventSupported","isZoomApp"];function o(o){const i=void 0!==o&&o.userAgent||"";function r(e){var t=i.match(e);return t&&t.length>1&&t[1]||""}function s(e){var t=i.match(e);return t&&t.length>1&&t[2]||""}function a(e,t){return e&&e.length>t&&e[t]||""}var c,u=r(/(ipod|iphone|ipad)/i).toLowerCase(),d=!/like android/i.test(i)&&/android/i.test(i),E=/nexus\s*[0-6]\s*/i.test(i),p=!E&&/nexus\s*[0-9]+/i.test(i),l=/CrOS/.test(i),f=/silk/i.test(i),_=/sailfish/i.test(i),O=/tizen/i.test(i),h=/(web|hpw)os/i.test(i),A=/windows phone/i.test(i),R=(/SamsungBrowser/i.test(i),!A&&/windows/i.test(i)),m=!u&&!f&&/macintosh/i.test(i),v=!d&&!_&&!O&&!h&&/linux/i.test(i),S=s(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),N=r(/version\/(\d+(\.\d+)?)/i),T=/tablet/i.test(i)&&!/tablet pc/i.test(i),D=!T&&/[^-]mobi/i.test(i),g=/xbox/i.test(i);if(/opera/i.test(i))c={name:"Opera",opera:e,version:N||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)};else if(/opr\/|opios/i.test(i))c={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||N};else if(/SamsungBrowser/i.test(i))c={name:"Samsung Internet for Android",samsungBrowser:e,version:N||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/coast/i.test(i))c={name:"Opera Coast",coast:e,version:N||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)};else if(/yabrowser/i.test(i))c={name:"Yandex Browser",yandexbrowser:e,version:N||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/ucbrowser/i.test(i))c={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/mxios/i.test(i))c={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)};else if(/epiphany/i.test(i))c={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)};else if(/puffin/i.test(i))c={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)};else if(/sleipnir/i.test(i))c={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)};else if(/k-meleon/i.test(i))c={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)};else if(A)c={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},S?(c.msedge=e,c.version=S):(c.msie=e,c.version=r(/iemobile\/(\d+(\.\d+)?)/i));else if(/msie|trident/i.test(i))c={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(l)c={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/edg([ea]|ios)/i.test(i))c={name:"Microsoft Edge",msedge:e,version:S};else if(/vivaldi/i.test(i))c={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||N};else if(_)c={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(i))c={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel|fxios/i.test(i))c={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(c.firefoxos=e,c.osname="Firefox OS");else if(f)c={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)};else if(/phantom/i.test(i))c={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/slimerjs/i.test(i))c={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i))c={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:N||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(h)c={name:"WebOS",osname:"WebOS",webos:e,version:N||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(c.touchpad=e);else if(/bada/i.test(i))c={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)};else if(O)c={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||N};else if(/qupzilla/i.test(i))c={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||N};else if(/chromium/i.test(i))c={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||N};else if(/chrome|crios|crmo/i.test(i))c={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(d)c={name:"Android",version:N};else if(/safari|applewebkit/i.test(i))c={name:"Safari",safari:e},N&&(c.version=N);else if(u)c={name:"iphone"==u?"iPhone":"ipad"==u?"iPad":"iPod"},N&&(c.version=N);else if(/googlebot/i.test(i))c={name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||N};else if(/zoomwebkit/i.test(i)){c={name:"Safari",safari:e};const t=void 0!==o&&o.platform||"";-1!=t.indexOf("MacIntel")&&(c.osname="macOS",c.mac=e),-1!=t.indexOf("Win")&&(c.osname="Windows",c.windows=e)}else c={name:r(/^(.*)\/(.*) /),version:s(/^(.*)\/(.*) /)};!c.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(c.name=c.name||"Blink",c.blink=e):(c.name=c.name||"Webkit",c.webkit=e),!c.version&&N&&(c.version=N)):!c.opera&&/gecko\//i.test(i)&&(c.name=c.name||"Gecko",c.gecko=e,c.version=c.version||r(/gecko\/(\d+(\.\d+)?)/i)),c.windowsphone||!d&&!c.silk?!c.windowsphone&&u?(c[u]=e,c.ios=e,c.osname="iOS"):m?(c.mac=e,c.osname="macOS"):g?(c.xbox=e,c.osname="Xbox"):R?(c.windows=e,c.osname="Windows"):v&&(c.linux=e,c.osname="Linux"):(c.android=e,c.osname="Android");var I="";c.windows?I=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):c.windowsphone?I=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):c.mac?I=(I=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):u?I=(I=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):d?I=r(/android[ \/-](\d+(\.\d+)*)/i):c.webos?I=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):c.blackberry?I=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):c.bada?I=r(/bada\/(\d+(\.\d+)*)/i):c.tizen&&(I=r(/tizen[\/\s](\d+(\.\d+)*)/i)),I&&(c.osversion=I);var L=!c.windows&&I.split(".")[0];T||p||"ipad"==u||d&&(3==L||L>=4&&!D)||c.silk?c.tablet=e:(D||"iphone"==u||"ipod"==u||d||E||c.blackberry||c.webos||c.bada)&&(c.mobile=e),c.msedge||c.msie&&c.version>=10||c.yandexbrowser&&c.version>=15||c.vivaldi&&c.version>=1||c.chrome&&c.version>=20||c.samsungBrowser&&c.version>=4||c.firefox&&c.version>=20||c.safari&&c.version>=6||c.opera&&c.version>=10||c.ios&&c.osversion&&c.osversion.split(".")[0]>=6||c.blackberry&&c.version>=10.1||c.chromium&&c.version>=20?c.a=e:c.msie&&c.version<10||c.chrome&&c.version<20||c.firefox&&c.version<20||c.safari&&c.version<6||c.opera&&c.version<10||c.ios&&c.osversion&&c.osversion.split(".")[0]<6||c.chromium&&c.version<20?c.c=e:c.x=e;var b=i.toLowerCase(),C="WinRTError"in window,M=b.indexOf(" electron/")>-1,P=b.indexOf(" realtimeboard/")>-1,y="ontouchstart"in document,w=void 0!==o&&o.maxTouchPoints>0,F=!!window.PointerEvent;if(c.mac&&w&&(c.mac=!1,c.tablet=!0,c.ios=!0,c.ipados=!0),/realtimeboard/i.test(i)&&(c.appDetected=!0,P=!0,c.desktopApp=!0,c.appVersion=r(/(?:realtimeboard)\/(\d+(\.\d+)*)/i)),/miroapp/i.test(i)){c.appDetected=!0;var H=i.match(/(?:miroapp)\/(tablet|mobile|desktop|uwp|uwpteam)\/(\d+(\.\d+)*)\/(android|ios|macos|windows)/i);c.appVersion=a(H,2);var B=a(H,1).toLowerCase(),k=a(H,3).toLowerCase();switch(B){case"tablet":c.tabletApp=!0,c.tablet=!0,c.mac=!1,c.mobileApp=!1,c.mobile=!1;break;case"mobile":c.mobileApp=!0,c.mobile=!0,c.mac=!1,c.tablet=!1,c.tabletApp=!1;break;case"desktop":P=!0,c.desktopApp=!0;break;case"uwp":C=!0,c.uwpDesktopApp=!0;break;case"uwpteam":C=!0,c.uwpTeamApp=!0}switch(k){case"ios":c.ios=!0,c.safari=!0,c.android=!1;break;case"android":c.android=!0,c.ios=!1,c.safari=!1}}/zoomapps/i.test(i)&&(c.isZoomApp=!0);var x,U=window._rtb_app_info_;if(U&&"uwp"===U.appType)switch(C=!0,c.appDetected=!0,c.appVersion=U.version,c.uwpPublicApp=U.isPublicUsage,void 0===c.uwpPublicApp&&(c.uwpPublicApp=!1),U.deviceType){case"desktop":c.uwpDesktopApp=!0;break;case"team":c.uwpTeamApp=!0}return c.isPartnerApp=!!/^airtabledesktop/i.test(i),c.uwpApp=C,c.desktopApp=C||M&&P,c.desktop=!c.mobile&&!c.tablet,c.isTouchSupported=M||C?w:y||w,c.desktopWithTouch=c.desktop&&c.isTouchSupported,c.isTouchSupportedAndNotDesktop=!c.desktop&&c.isTouchSupported&&!c.ipados,c.winDesktopAppWithTouch=C&&w,c.isPointerEventSupported=F,c.canUseSyntheticMouseEvents=!("ontouchstart"in document)||c.desktop||!!c.android||!!c.ipados,c.android&&c.tabletApp&&(c.canUseSyntheticMouseEvents=!1),c.winDesktopAppWithTouch&&(c.tablet=!0),Object.defineProperty(c,"webView",{enumerable:!0,configurable:!1,get:function(){return c.mobileApp||c.embedGenerator},set:function(){}}),c.chromium&&(c.chrome=c.chromium),x=c,t.forEach((function(e){x.hasOwnProperty(e)||(x[e]="")})),n.forEach((function(e){x.hasOwnProperty(e)||(x[e]=!1)})),c}var i=o(navigator);function r(e){return e.split(".").length}function s(e,t){var n,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)o.push(t(e[n]));return o}function a(e){for(var t=Math.max(r(e[0]),r(e[1])),n=s(e,(function(e){var n=t-r(e);return s((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function c(e,t,n){var r=i;"object"==typeof t&&(n=t,t=void 0),void 0===t&&(t=!1),ua&&(r=o(n));var s=""+r.version;for(var c in e)if(e.hasOwnProperty(c)&&r[c]){if("string"!=typeof e[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(e));return a([s,e[c]])<0}return t}return i.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in i)return!0}return!1},i.isUnsupportedBrowser=c,i.compareVersions=a,i.check=function(e,t,n){return!c(e,t,n)},i._detect=o,i.detect=o,i},e.exports?e.exports=o():n.amdD("bowser",o)},function(e,t,n){var o;!function(i){function r(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function s(e,t,n,o,i){this._listener=t,this._isOnce=n,this.context=o,this._signal=e,this._priority=i||0}function a(){this._bindings=[],this._prevParams=null,this.dispatch=this.dispatch.bind(this)}s.prototype={active:!0,execute:function(e){var t;return this.active&&this._listener&&(t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){this._signal=null,this._listener=null,this.context=null},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},a.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,o){var i=this._indexOfListener(e,n);if(-1!==i){if((e=this._bindings[i]).isOnce()!==t)throw Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else e=new s(this,e,t,n,o),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority>this._bindings[t]._priority);(t+=1)===this._bindings.length?this._bindings.push(e):this._bindings.splice(t,0,e)},_indexOfListener:function(e,t){for(var n,o=this._bindings.length,i=0;i<o;++i)if((n=this._bindings[i])._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return r(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return r(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){r(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length,t=0;t<e;++t)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t=Array.prototype.slice.call(arguments);if(this.memorize&&(this._prevParams=t),this._bindings.length){var n=-1,o=this._bindings.slice();this._shouldPropagate=!0;do{n++}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(t))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),this.forget()},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var c=a;c.Signal=a,void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o)}()}],t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};(()=>{"use strict";n.d(o,{getReceiver:()=>it});var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}function i(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}Object.create,Object.create;var r=function(e){function n(t,n,o){var i=this.constructor,r=e.call(this,n)||this;return Object.setPrototypeOf(r,i.prototype),r.name=t,r.commandId=o.commandId,r.pluginId=o.context.pluginId,r}return t(n,e),n}(Error),s=function(e){function n(t,n){var o=this,i=n instanceof Error?n.message:"Some error while command execution";return(o=e.call(this,"CommandExecutionError",i,t)||this).originalError=n,o}return t(n,e),n}(r),a=function(e){function n(t){return e.call(this,"CommandNotFoundError","Command for '".concat(JSON.stringify(t.context),"' not found"),t)||this}return t(n,e),n}(r),c=function(e){function n(t){return e.call(this,"CommandReceiverNotFoundError","Command ".concat(t.commandId," not found. Context ='").concat(JSON.stringify(t.context),"'"),t)||this}return t(n,e),n}(r),u=function(e){function n(t){return e.call(this,"CommandResponseByTokenNotFoundError","Response by token not found ".concat(t.commandToken),t)||this}return t(n,e),n}(r),d=function(){function e(e,t){this.waitingForResponseCommands=new Map,this.sendHandler=e,this.findReceiverByContext=t}return e.prototype.sendCommand=function(e,t,n){var o=this;return new Promise((function(i,r){var s="".concat(e,"-").concat(function(e,t){void 0===e&&(e=20);for(var n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*o.length));return n}()),a={commandId:e,commandToken:s,context:t,data:n};o.waitingForResponseCommands.set(s,{resolve:i,reject:r}),o.sendHandler(a)}))},e.prototype.processCommand=function(t){var n,o,i=this;if(t.commandId===e.RESPONSE_COMMAND_ID){var r=this.waitingForResponseCommands.get(t.commandToken);if(r)return this.waitingForResponseCommands.delete(t.commandToken),t.errorInResponse?(r.reject(t.data),Promise.resolve({error:t.data})):(r.resolve(t.data),Promise.resolve({result:t.data}));var d=new u(t);return console.error(d.message),Promise.resolve({error:d})}var E=this.findReceiverByContext(t.context);if(!E)return d=new c(t),console.error(d.message),Promise.resolve({error:d});var p,l=t.commandId.slice(1).split("."),f=E;if(l.forEach((function(e,t){t===l.length-1?p=f[e]:f=f[e]})),!p)return d=new a(t),console.error(d.message),Promise.resolve({error:d});if(f.isInternal&&!0!==(null===(o=null===(n=f.controller.appInstallation)||void 0===n?void 0:n.application)||void 0===o?void 0:o.internal))return d=new c(t),Promise.resolve({error:d});try{var _=p.apply(f,t.data);return this.isPromise(_)?_.then((function(e){return i.sendResponse(t,e,!0),{result:e}})).catch((function(e){return console.error(e),i.sendResponse(t,"Some error while command execution",!1),{error:new s(t,e)}})):(this.sendResponse(t,_,!0),Promise.resolve({result:_}))}catch(e){return this.sendResponse(t,"Error while command execution: ".concat(e.message),!1),Promise.resolve({error:new s(t,e)})}},e.prototype.isPromise=function(e){return e&&void 0!==e.then&&void 0!==e.catch},e.prototype.sendResponse=function(t,n,o){var i={commandId:e.RESPONSE_COMMAND_ID,commandToken:t.commandToken,context:t.context,errorInResponse:!o,data:n};this.sendHandler(i)},e.RESPONSE_COMMAND_ID="IS_RESPONSE_FOR_SOME_COMMAND",e}();const E=d;var p;!function(e){e.HELLO_APP_FROM_IFRAME="HELLO_APP_FROM_IFRAME",e.HELLO_IFRAME_FROM_APP="HELLO_IFRAME_FROM_APP",e.IFRAME_CHANNEL_COMMAND="IFRAME_CHANNEL_COMMAND"}(p||(p={}));const l=p;var f="__receiverDescriptionFieldName";function _(e,t){var n;(n=e)[f]||(n[f]={methods:[],nestedReceivers:[]}),e[f].methods.push(t)}function O(e,t,n,o){n.methods.forEach((function(n){t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=e+"."+n;return o(r,t)}})),n.nestedReceivers.forEach((function(n){t[n.key]={},O(e+"."+n.key,t[n.key],n.receiver,o)}))}var h=function(){};const A=function(e,t,n){this.type=e,this.data=t,this.preventDefault=n||h};var R=Promise.resolve(!0);function m(e){return"object"!=typeof e?(console.warn("WidgetMenuItem is '".concat(typeof e,"', but have to be 'object'")),!1):e.hasOwnProperty("tooltip")&&"string"==typeof e.tooltip?e.hasOwnProperty("svgIcon")&&"string"==typeof e.svgIcon?!(!e.hasOwnProperty("onClick")||"function"!=typeof e.onClick)||(console.warn("WidgetMenuItem.onClick is '".concat(typeof e.onClick,"', but have to be 'function'")),!1):(console.warn("WidgetMenuItem.svgIcon is '".concat(typeof e.svgIcon,"', but have to be 'string'")),!1):(console.warn("WidgetMenuItem.tooltip is '".concat(typeof e.tooltip,"', but have to be 'string'")),!1)}var v=function(){function e(e){this.buttonsClickListeners={},this.menuItemsClickListeners={},this.currentDraggableItemOptions={},this.eventDispatcher=e}return e.prototype.setDraggableItemOption=function(e,t){this.currentDraggableItemOptions[e]=t},e.prototype.setDraggableItem=function(e){this.currentDraggableItem=e},e.prototype.addOnWidgetSelectedListener=function(e){"function"!=typeof e?console.warn("getWidgetMenuItems but have to be 'function'"):this.getMenuItems=e},e.prototype.addButtonClickListener=function(e,t){this.buttonsClickListeners[e]=t},e.prototype.onWidgetsSelected=function(e,t){return n=this,o=void 0,r=function(){var n,o=this;return function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(i){switch(i.label){case 0:return[4,this.getMenuItems(e,t)];case 1:return n=i.sent(),Array.isArray(n)||(n=[n]),n.every(m)?(n.forEach((function(e,t){e.onClick&&(o.menuItemsClickListeners["widgetMenuItems_".concat(t)]=e.onClick)})),[2,n.map((function(e){return{tooltip:e.tooltip,svgIcon:e.svgIcon}}))]):[2,[]]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(n,o||[])).next())}));var n,o,i,r},e.prototype.callMenuItemClickListener=function(e){this.menuItemsClickListeners["widgetMenuItems_".concat(e)]()},e.prototype.dispatchEvent=function(e){var t=!1;return this.eventDispatcher.dispatchEvent(new A(e.type,e.data,(function(){t=!0}))),Promise.resolve(t)},e.prototype.callExtensionPointClickListener=function(e){this.buttonsClickListeners[e]()},e.prototype.areYouAlive=function(){return R},e.prototype.currentDraggableItemDropped=function(e,t,n){this.currentDraggableItemOptions[e]&&this.currentDraggableItem&&this.currentDraggableItemOptions[e].onDrop(t,n,this.currentDraggableItem)},e.prototype.currentDraggableItemCanceled=function(e){var t,n=null===(t=this.currentDraggableItemOptions[e])||void 0===t?void 0:t.onCancel;n&&n()},i([_],e.prototype,"onWidgetsSelected",null),i([_],e.prototype,"callMenuItemClickListener",null),i([_],e.prototype,"dispatchEvent",null),i([_],e.prototype,"callExtensionPointClickListener",null),i([_],e.prototype,"areYouAlive",null),i([_],e.prototype,"currentDraggableItemDropped",null),i([_],e.prototype,"currentDraggableItemCanceled",null),e}();const S=v;var N=Math.floor,T=function(){function e(){}return e.prototype.toMillis=function(e){return e},e.prototype.toSeconds=function(e){return N(e/1e3)},e.prototype.toMinutes=function(e){return N(e/6e4)},e.prototype.toHours=function(e){return N(e/36e5)},e.prototype.toDays=function(e){return N(e/864e5)},e}(),D=function(){function e(){}return e.prototype.toMillis=function(e){return 1e3*e},e.prototype.toSeconds=function(e){return e},e.prototype.toMinutes=function(e){return N(e/60)},e.prototype.toHours=function(e){return N(e/3600)},e.prototype.toDays=function(e){return N(e/86400)},e}(),g=function(){function e(){}return e.prototype.toMillis=function(e){return 6e4*e},e.prototype.toSeconds=function(e){return 60*e},e.prototype.toMinutes=function(e){return e},e.prototype.toHours=function(e){return N(e/60)},e.prototype.toDays=function(e){return N(e/1440)},e}(),I=function(){function e(){}return e.prototype.toMillis=function(e){return 36e5*e},e.prototype.toSeconds=function(e){return 3600*e},e.prototype.toMinutes=function(e){return 60*e},e.prototype.toHours=function(e){return e},e.prototype.toDays=function(e){return N(e/24)},e}(),L=function(){function e(){}return e.prototype.toMillis=function(e){return 864e5*e},e.prototype.toSeconds=function(e){return 86400*e},e.prototype.toMinutes=function(e){return 1440*e},e.prototype.toHours=function(e){return 24*e},e.prototype.toDays=function(e){return e},e}();new T,new D,new g,new I,new L,n(0);navigator.appVersion.indexOf("Win"),navigator.appVersion.indexOf("Mac"),navigator.appVersion.indexOf("X11"),navigator.appVersion.indexOf("Linux"),navigator.appVersion.indexOf("Android"),/iPad|iPhone|iPod/.test(navigator.platform),-1!==navigator.appVersion.indexOf("ZoomWebKit")&&(navigator.platform.indexOf("MacIntel"),navigator.platform.indexOf("Win"));var b=n(1),C=n.n(b);var M,P,y,w,F,H,B,k,x,U,W,G,V,K,z,X,Y,Z,j,Q,J,q,$,ee,te,ne,oe,ie,re;function se(e){return{name:e}}new(C().Signal),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM",e[e.HORIZONTAL_CENTER=4]="HORIZONTAL_CENTER",e[e.VERTICAL_CENTER=5]="VERTICAL_CENTER",e[e.SPREAD_HORIZONTAL=6]="SPREAD_HORIZONTAL",e[e.SPREAD_VERTICAL=7]="SPREAD_VERTICAL"}(M||(M={})),function(e){e[e.NONE=1]="NONE",e[e.ONE=2]="ONE",e[e.BOTH=3]="BOTH",e[e.SKETCH=9]="SKETCH"}(P||(P={})),function(e){e[e.DOTTED=0]="DOTTED",e[e.DASHED=1]="DASHED",e[e.NORMAL=2]="NORMAL",e[e.DASH_DOTTED=3]="DASH_DOTTED",e[e.DASHED_DENSED=4]="DASHED_DENSED",e[e.DASHED_SHORT=5]="DASHED_SHORT",e[e.DASHED_SHORT_DENSED=6]="DASHED_SHORT_DENSED"}(y||(y={})),function(e){e[e.__UNKNOWN=-999]="__UNKNOWN",e[e.__TEXT=1]="__TEXT",e[e.__STICKER=2]="__STICKER",e[e.__IMAGE=3]="__IMAGE",e[e.__DOCUMENT=4]="__DOCUMENT",e[e.__MOCKUP=5]="__MOCKUP",e[e.__SHAPE=6]="__SHAPE",e[e.__LINE=7]="__LINE",e[e.__CURVE=8]="__CURVE",e[e.__WEBSCREEN=9]="__WEBSCREEN",e[e.GROUP=10]="GROUP",e[e.COMMENT=11]="COMMENT",e[e.__FRAME=12]="__FRAME",e[e.TAG=13]="TAG",e[e.JSON=14]="JSON"}(w||(w={})),function(e){e[e.CHAT=0]="CHAT",e[e.VIDEO_CHAT=1]="VIDEO_CHAT",e[e.SCREEN_SHARING=2]="SCREEN_SHARING",e[e.LOCK_MESSAGE=3]="LOCK_MESSAGE"}(F||(F={})),function(e){e.BACKGROUND="background",e.BOLD="bold",e.COLOR="color",e.FONT="font",e.ITALIC="italic",e.CODE="code",e.LINK="link",e.STRIKE="strike",e.UNDERLINE="underline",e.BLOCKQUOTE="blockquote",e.DIRECTION="direction",e.INDENT="indent",e.LIST="list",e.ALIGN="align"}(H||(H={})),function(e){e[e.ARIAL=0]="ARIAL",e[e.CURSIVE=1]="CURSIVE",e[e.ABRIL_FATFACE=2]="ABRIL_FATFACE",e[e.BANGERS=3]="BANGERS",e[e.EB_GARAMOND=4]="EB_GARAMOND",e[e.GEORGIA=5]="GEORGIA",e[e.GRADUATE=6]="GRADUATE",e[e.GRAVITAS_ONE=7]="GRAVITAS_ONE",e[e.FREDOKA_ONE=8]="FREDOKA_ONE",e[e.NIXIE_ONE=9]="NIXIE_ONE",e[e.OPEN_SANS=10]="OPEN_SANS",e[e.PERMANENT_MARKER=11]="PERMANENT_MARKER",e[e.PT_SANS=12]="PT_SANS",e[e.PT_SANS_NARROW=13]="PT_SANS_NARROW",e[e.PT_SERIF=14]="PT_SERIF",e[e.RAMMETTO_ONE=15]="RAMMETTO_ONE",e[e.ROBOTO=16]="ROBOTO",e[e.ROBOTO_CONDENSED=17]="ROBOTO_CONDENSED",e[e.ROBOTO_SLAB=18]="ROBOTO_SLAB",e[e.CAVEAT=19]="CAVEAT",e[e.TIMES_NEW_ROMAN=20]="TIMES_NEW_ROMAN",e[e.TITAN_ONE=21]="TITAN_ONE",e[e.LEMON_TUESDAY=22]="LEMON_TUESDAY",e[e.ROBOTO_MONO=23]="ROBOTO_MONO",e[e.NOTO_SANS=24]="NOTO_SANS",e[e.PLEX_SANS=25]="PLEX_SANS",e[e.PLEX_SERIF=26]="PLEX_SERIF",e[e.PLEX_MONO=27]="PLEX_MONO",e[e.SPOOF=28]="SPOOF",e[e.TIEMPOS_TEXT=29]="TIEMPOS_TEXT",e[e.FORMULAR=30]="FORMULAR",e[e.CISCO_SANS_TT=31]="CISCO_SANS_TT",e[e.GAP_BANANA=32]="GAP_BANANA",e[e.GAP_BANANA_TEXT=33]="GAP_BANANA_TEXT",e[e.GAP_PLAYFAIR_DISPLAY=35]="GAP_PLAYFAIR_DISPLAY",e[e.GAP_ATHLETA_OPENSANS=36]="GAP_ATHLETA_OPENSANS",e[e.GRUNDFOS_THE_SANS=37]="GRUNDFOS_THE_SANS",e[e.GRUNDFOS_THE_SANS_EXTD_BLACK=38]="GRUNDFOS_THE_SANS_EXTD_BLACK",e[e.VOLVO_NOVUM_REGULAR=39]="VOLVO_NOVUM_REGULAR",e[e.VOLVO_NOVUM_MEDIUM=40]="VOLVO_NOVUM_MEDIUM",e[e.VOLVO_ANTIKVA=41]="VOLVO_ANTIKVA",e[e.VOLVO_BROAD=42]="VOLVO_BROAD",e[e.RED_HAT_DISPLAY=43]="RED_HAT_DISPLAY",e[e.RED_HAT_TEXT=44]="RED_HAT_TEXT",e[e.RED_HAT_MONO=45]="RED_HAT_MONO",e[e.NOTO_SERIF=1e3]="NOTO_SERIF",e[e.NOTO_SERIF_JP=1001]="NOTO_SERIF_JP",e[e.NOTO_SANS_JP=1002]="NOTO_SANS_JP",e[e.NOTO_SANS_HEBREW=1003]="NOTO_SANS_HEBREW",e[e.NOTO_SERIF_KR=1004]="NOTO_SERIF_KR",e[e.NOTO_SANS_KR=1005]="NOTO_SANS_KR",e[e.SERIF=1006]="SERIF",e[e.SANS_SERIF=1007]="SANS_SERIF",e[e.MONOSPACE=1008]="MONOSPACE"}(B||(B={})),function(e){e[e.SHADOW_RECTANGLE=1]="SHADOW_RECTANGLE",e[e.DEVICE_FRAME=2]="DEVICE_FRAME"}(k||(k={})),function(e){e[e.FRAME4X3=0]="FRAME4X3",e[e.FRAME16X9=1]="FRAME16X9",e[e.FRAMEA4L=2]="FRAMEA4L",e[e.FRAMEA4P=3]="FRAMEA4P",e[e.FRAME1X1=4]="FRAME1X1",e[e.CUSTOM=5]="CUSTOM",e[e.WEB_DESKTOP=6]="WEB_DESKTOP",e[e.IPAD=7]="IPAD",e[e.IPHONE=8]="IPHONE",e[e.ANDROID_TABLET=9]="ANDROID_TABLET",e[e.ANDROID_PHONE=10]="ANDROID_PHONE",e[e.FRAMEA4=11]="FRAMEA4",e[e.IPHONE_WF=12]="IPHONE_WF",e[e.TABLET_WF=13]="TABLET_WF",e[e.DESKTOP_WF=14]="DESKTOP_WF",e[e.LETTER=15]="LETTER"}(x||(x={})),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(U||(U={})),function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.SIZE=2]="SIZE",e[e.SHAPE_TYPE=3]="SHAPE_TYPE",e[e.CONTROL_POINT=4]="CONTROL_POINT",e[e.PRESENCE=5]="PRESENCE"}(W||(W={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(G||(G={})),function(e){e.BEVEL="bevel",e.ROUND="round",e.MITER="miter"}(V||(V={})),function(e){e[e.DASHED=1]="DASHED",e[e.NORMAL=2]="NORMAL",e[e.STRONG=3]="STRONG",e[e.DOTTED=4]="DOTTED"}(K||(K={})),function(e){e[e.LINE=1]="LINE",e[e.ARROW=2]="ARROW",e[e.ARROW_SKETCH=9]="ARROW_SKETCH",e[e.ARROW_SQUARE=3]="ARROW_SQUARE"}(z||(z={})),function(e){e[e.NONE=0]="NONE",e[e.ARC_ARROW=1]="ARC_ARROW",e[e.RHOMBUS=2]="RHOMBUS",e[e.FILLED_RHOMBUS=3]="FILLED_RHOMBUS",e[e.CIRCLE=4]="CIRCLE",e[e.FILLED_CIRCLE=5]="FILLED_CIRCLE",e[e.ARROW=6]="ARROW",e[e.OPEN_ARROW=7]="OPEN_ARROW",e[e.FILLED_ARROW=8]="FILLED_ARROW",e[e.ROUNDED_ARROW=9]="ROUNDED_ARROW",e[e.ERD_ONE=10]="ERD_ONE",e[e.ERD_MANY=11]="ERD_MANY",e[e.ERD_ONLY_ONE=12]="ERD_ONLY_ONE",e[e.ERD_ZERO_OR_ONE=13]="ERD_ZERO_OR_ONE",e[e.ERD_ONE_OR_MANY=14]="ERD_ONE_OR_MANY",e[e.ERD_ZERO_OR_MANY=15]="ERD_ZERO_OR_MANY"}(X||(X={})),function(e){e[e.STRAIGHT=0]="STRAIGHT",e[e.SQUARE=1]="SQUARE",e[e.BEZIER=2]="BEZIER",e[e.MIND_MAP_BEZIER=3]="MIND_MAP_BEZIER",e[e.MIND_MAP_SQUARE=4]="MIND_MAP_SQUARE",e[e.SKETCH=9]="SKETCH"}(Y||(Y={})),function(e){e.BUTTON="button",e.OPEN_NOTES_LINK="open_notes_link",e.COMMENT_LINK="comment_link",e.COMMENTS_BAR="comments_bar",e.MENTION_LINK="mention_link",e.MENTIONS_BAR="mentions_bar",e.SCREEN_SHARE_WATCH="screen_share_watch",e.AUTO_FIRST_EDIT="auto_first_edit",e.AUTO_HAS_CHANGES="auto_has_changes",e.AUTO_SHOW_BANNER="auto_show_banner",e.AUTO_PINNED="auto_pinned",e.TIP_TRY_AGAIN="tip_try_again"}(Z||(Z={})),function(e){e.BUTTON="button",e.CROSS="cross",e.MOVE_TO_CANVAS_COMMENT="move_to_canvas_comment"}(j||(j={})),function(e){e[e.ALL=0]="ALL",e[e.TOUCH=1]="TOUCH",e[e.CONTAIN=2]="CONTAIN",e[e.BY_CENTER=3]="BY_CENTER",e[e.BY_PERCENT=4]="BY_PERCENT",e[e.INTERSECT=5]="INTERSECT",e[e.PRECISE=6]="PRECISE"}(Q||(Q={})),function(e){e[e.IDLE=0]="IDLE",e[e.CAN_START=1]="CAN_START",e[e.CAN_JOIN=2]="CAN_JOIN",e[e.JOINED=3]="JOINED"}(J||(J={})),function(e){e[e.GUEST=0]="GUEST",e[e.VIEW=1]="VIEW",e[e.PINNED=2]="PINNED",e[e.NORMAL=3]="NORMAL",e[e.MULTI=4]="MULTI",e[e.EDIT=5]="EDIT"}(q||(q={})),function(e){e[e.S=.54]="S",e[e.M=1.07]="M",e[e.L=1.85]="L"}($||($={})),function(e){e[e.SQUARE=0]="SQUARE",e[e.RECTANGLE=1]="RECTANGLE"}(ee||(ee={})),function(e){e.LEFT="l",e.CENTER="c",e.RIGHT="r"}(te||(te={})),function(e){e.TOP="t",e.MIDDLE="m",e.BOTTOM="b"}(ne||(ne={})),function(e){e[e.RTL=-1]="RTL",e[e.UNKNOWN=0]="UNKNOWN",e[e.LTR=1]="LTR"}(oe||(oe={})),function(e){e[e.MOVE=0]="MOVE",e[e.RESIZE=1]="RESIZE",e[e.SCALE=2]="SCALE",e[e.ROTATE=3]="ROTATE"}(ie||(ie={})),function(){function e(){this.endpoints=new Map}e.prototype.register=function(e,t){return this.endpoints.set(e,t),t},e.prototype.remove=function(e){this.endpoints.delete(e)},e.prototype.get=function(e){var t=this.endpoints.get(e);if(void 0===t)throw new Error("Endpoint ".concat(e.name," does not exist"));return t},e.prototype.has=function(e){return this.endpoints.has(e)},e.prototype.destroyAll=function(){this.endpoints.forEach((function(e){var t;null===(t=e.destroy)||void 0===t||t.call(e)}))}}(),se("SelectionAPI"),se("ViewportAPI"),se("ObjectsAPI"),se("WidgetsAPI"),function(e){e[e.Unknown=0]="Unknown",e[e.Pending=1]="Pending",e[e.Finalized=2]="Finalized"}(re||(re={}));var ae,ce=function(){function e(e){this.id=e,this.state=re.Unknown,this.dependencies=new Map,this.pendingDependenciesCount=0,this.stateChangedHandlers=new Set,this.ownUnsubscriptions=new Set,this.onFinalizedHandlers=new Set,this.isFinalized=!1}return e.prototype.getState=function(){return this.state},e.prototype.setDependencies=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.attachDependency(e)}))},e.prototype.init=function(){var e=this;this.state=re.Pending,this.stateChangedHandlers.forEach((function(t){t(e.id)})),this.ownUnsubscriptions.forEach((function(e){e()})),this.dependencies.forEach((function(t){var n=t.onStateChanged(e.onStateChangedHandler.bind(e));e.ownUnsubscriptions.add(n)})),this.checkSelfState()},e.prototype.onStateChanged=function(e){var t=this;return this.state===re.Finalized?(e(this.id),function(){}):(this.stateChangedHandlers.add(e),function(){return t.stateChangedHandlers.delete(e)})},e.prototype.finalize=function(){var e=this;this.state!==re.Finalized&&(this.state=re.Finalized,this.onFinalizedHandlers.forEach((function(t){t(e)})),this.onFinalizedHandlers.clear(),this.isFinalized=!0,this.ownUnsubscriptions.forEach((function(e){e()})),this.ownUnsubscriptions.clear(),this.stateChangedHandlers.forEach((function(t){t(e.id)})),this.stateChangedHandlers.clear())},e.prototype.onFinalized=function(e){var t=this;return this.onFinalizedHandlers.add(e),function(){t.onFinalizedHandlers.delete(e)}},e.prototype.attachDependency=function(e){this.dependencies.set(e.id,e),this.pendingDependenciesCount+=1},e.prototype.onStateChangedHandler=function(e){var t=this.dependencies.get(e);void 0!==t&&(t.getState()===re.Finalized&&(this.pendingDependenciesCount-=1),this.checkSelfState())},e.prototype.checkSelfState=function(){0===this.pendingDependenciesCount&&this.finalize()},e}(),ue=function(){function e(){this.heap=new Map,this.stubsQueue=new Set,this.unsubscription=new Set,this.unknownStubs=new Set}return e.prototype.require=function(e){var t;return null!==(t=this.heap.get(e))&&void 0!==t?t:this.makeStub(e)},e.prototype.makeStub=function(e){var t=this,n=new ce(e);this.heap.set(e,n),this.unknownStubs.add(n),n.onStateChanged((function(){n.getState()!==re.Unknown&&t.unknownStubs.delete(n)}));var o=n.onFinalized((function(e){t.stubsQueue.add(e)}));return this.unsubscription.add(o),n},e.prototype.finalize=function(){this.unknownStubs.forEach((function(e){e.finalize()}))},e.prototype.forEach=function(e){this.stubsQueue.forEach(e)},e.prototype.getSortedQueue=function(){return Array.from(this.stubsQueue)},e.prototype.clear=function(){this.unsubscription.forEach((function(e){e()})),this.finalize(),this.heap.clear(),this.stubsQueue.clear()},e}();!function(){function e(){this.heap=new ue,this.ids=new Set}e.prototype.add=function(e,t){var n=this;void 0===t&&(t=[]);var o=this.heap.require(e);this.ids.add(e),o.setDependencies(t.map((function(e){return n.heap.require(e)}))),o.init()},e.prototype.finalize=function(){this.heap.finalize()},e.prototype.forEach=function(e){var t=this;this.heap.forEach((function(n){var o=n.id;t.ids.has(o)&&e(o)}))},e.prototype.getSortedKeys=function(){var e=this,t=[];return this.heap.forEach((function(n){var o=n.id;e.ids.has(o)&&t.push(o)})),t}}(),function(e){e[e.Unfixable=0]="Unfixable",e[e.ShouldBeFixed=1]="ShouldBeFixed",e[e.Consistent=2]="Consistent"}(ae||(ae={}));var de,Ee,pe,le,fe=function(){function e(){this.processorsForFixing=[],this.state=ae.Consistent}return e.prototype.isUnfixable=function(){return this.state===ae.Unfixable},e.prototype.isShouldBeFixed=function(){return this.state===ae.ShouldBeFixed},e.prototype.isConsistent=function(){return this.state===ae.Consistent},e.prototype.addResult=function(e,t){t<this.state&&(this.state=t),t===ae.ShouldBeFixed&&this.processorsForFixing.push(e)},e.prototype.getProcessorsForFixing=function(){return this.processorsForFixing},e}();function _e(e){var t,n,o,i,r,s,a,c,u=!1,d=l(),E=0,p=!1;function l(){return e.scrollHeight-parseInt(getComputedStyle(e).height,10)}function f(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function _(t){if(p)return!1;var n=!0;return t>d?(E=d,n=!1):t<0?(E=0,n=!1):E=t,e.scrollTop=E,n}function O(){var e,t,r;t=(e=Date.now())-i,i=e,r=E-o,o=E,n=1e3*r/(1+t)*.8+.2*n}function h(){var e,t;if(s)if(e=Date.now()-i,(t=-s*Math.exp(-e/325))>.5||t<-.5){var n=_(a+t);u=n,n&&requestAnimationFrame(h)}else u=!1,_(a)}function A(e){(function(e,t){var n,o=document.body;do{n=t(e),e=e.parentElement}while(!n&&null!=e&&e!=o);return!!n})(e.target,(function(e){return e.hasAttribute("no-custom-scroll")}))||(document.addEventListener("touchmove",R),document.addEventListener("touchend",m),Ee=v,p=!1,t=f(e),n=s=0,o=E,i=Date.now(),clearInterval(r),r=setInterval(O,100),function(e){var t=e.target;return!!t&&("A"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||"BUTTON"===t.tagName)}(e)||e.preventDefault(),u&&(u=!1,e.stopPropagation()))}function R(n){var o=f(n),i=t-o;return(i>5||i<-5)&&(t=o,de=e,_(E+i)),n.preventDefault(),!1}function m(e){v(),(n>10||n<-10)&&(s=.8*n,a=Math.round(E+s),i=Date.now(),requestAnimationFrame(h))}function v(){document.removeEventListener("touchmove",R),document.removeEventListener("touchend",m),de=void 0,clearInterval(r)}de=void 0;var S=setInterval((function(){c!==e.scrollHeight&&(c=e.scrollHeight,d=l(),de=void 0,p=!0,n=s=0)}),200);return e.addEventListener("touchstart",A,!0),function(){de=void 0,clearInterval(S),e.removeEventListener("touchstart",A,!0),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",m),clearInterval(r)}}function Oe(){Ee&&Ee()}function he(e){return function(e){var t=function(e){var t=function(e){return e.originalEvent?e.originalEvent:e}(e);return t.touches?t.touches[0]:t}(e);return{x:t.clientX,y:t.clientY}}(e)}!function(){function e(){this.processors=new Map}e.prototype.checkData=function(e,t,n){void 0===n&&(n=function(){return null});var o=new fe;return this.processors.forEach((function(i){var r,s;(null===(s=null===(r=i.condition)||void 0===r?void 0:r.call(i,e,t))||void 0===s||s)&&o.addResult(i.processorName,i.checkData(e,t,n))})),o},e.prototype.clearData=function(e,t,n){var o=this;n.getProcessorsForFixing().forEach((function(n){var i,r=o.processors.get(n);r&&(null===(i=r.clearData)||void 0===i||i.call(r,e,t))}))},e.prototype.get=function(e){var t;return null!==(t=this.processors.get(e))&&void 0!==t?t:null},e.prototype.register=function(e){this.processors.set(e.processorName,e)},e.prototype.clone=function(){var t=new e;return this.processors.forEach((function(e){t.register(e)})),t}}(),window.devicePixelRatio;var Ae,Re,me,ve,Se=!1;function Ne(e){le=he(e);var t,n=Math.abs(le.y-pe.y);(t=Ae)&&t===de?Se=!0:"horizontal"===ve?(Math.abs(le.x-pe.x)>4||n>20)&&(Oe(),Re(),Ie()):Math.abs(le.y-pe.y)>4&&(Oe(),Re(),Ie())}function Te(e,t,n,o,i){ve=i,Se=!1,Ae=t,Re=o,me=n,pe=he(e),document.addEventListener("mousemove",Ne),document.addEventListener("touchmove",Ne),document.addEventListener("mouseup",De),document.addEventListener("touchend",De),document.addEventListener("touchcancel",ge)}function De(){Se||me(),Ie()}function ge(){Ie()}function Ie(){document.removeEventListener("mousemove",Ne),document.removeEventListener("touchmove",Ne),document.removeEventListener("mouseup",De),document.removeEventListener("touchend",De),document.removeEventListener("touchcancel",ge)}var Le=0;const be=function(){function e(e){this.root=e}return e.prototype.initScrollableContainerWithDraggableImages=function(e,t){var n=++Le;_e(e);var o=this.root;function i(i){i.preventDefault();var r=function(e,t,n){var o=Array.from(t.querySelectorAll(n)).find((function(t){return t.contains(e)}));return o?o.attributes.getNamedItem("data-image-url").value:void 0}(i.target,e,t.draggableImageSelector);if(r){var s="touchstart"===i.type;Te(i,e,(function(){o.onDraggableImageClick({url:r})}),(function(){var e={isTouchEvent:s,preview:{url:r},image:{url:r}};o.onDraggableImageStartDrag(n,e)}),"horizontal");var a=function(e){var t=e.touches[0];o.onDraggableItemTouchMove(n,t.clientX,t.clientY)},c=function(){o.onDraggableItemTouchEnd(n),d()},u=function(){o.onDraggableItemTouchCancel(n),d()},d=function(){e.removeEventListener("touchmove",a),e.removeEventListener("touchcancel",u),e.removeEventListener("touchend",c)};e.addEventListener("touchmove",a),e.addEventListener("touchcancel",u),e.addEventListener("touchend",c),i.stopPropagation()}}e.addEventListener("mousedown",i),e.addEventListener("touchstart",i),e.addEventListener("dragstart",(function(e){e.stopPropagation(),e.preventDefault()}))},e}(),Ce=function(){function e(){this._listeners={},this._removedListenersCount=0}return e.prototype.addEventListener=function(e,t,n){return void 0===n&&(n=null),this.addListenerWrapper(e,{thisArg:n,listener:t,removed:!1})},e.prototype.addEventListenerOnce=function(e,t,n){return void 0===n&&(n=null),this.addListenerWrapper(e,{thisArg:n,listener:t,removed:!1,once:!0})},e.prototype.addListenerWrapper=function(e,t){return this._listeners[e]||(this._listeners[e]=[]),!this.findListenerWrapper(e,t.listener,t.thisArg)&&(this._listeners[e].push(t),!0)},e.prototype.hasEventListener=function(e,t,n){return void 0===n&&(n=null),!(!this._listeners[e]||!this.findListenerWrapper(e,t,n))},e.prototype.findListenerWrapper=function(e,t,n){return this._listeners[e].find((function(e){return e.thisArg===n&&e.listener===t&&!1===e.removed}))},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=null);var o=this._listeners[e],i=!1;if(o){var r=this._listeners[e].findIndex((function(e){return e.thisArg===n&&e.listener===t&&!1===e.removed}));-1!==r&&(this._inDispatch?(this._removedListenersCount++,o[r].removed=!0):o.splice(r,1),i=!0)}return i},e.prototype.dispatchEvent=function(e){var t=this,n=this._listeners[e.type];this._inDispatch=!0,n&&(e.target=this,n.some((function(n){var o=!1;return n.removed||(!1===n.listener.call(n.thisArg,e)&&(o=!0),n.once&&t.removeEventListener(e.type,n.listener,n.thisArg)),o})),this._removedListenersCount>0&&(this._removedListenersCount=0,this._listeners[e.type]=n.filter((function(e){return!e.removed})))),this._inDispatch=!1},e}();var Me;!function(e){e.SELECTION_UPDATED="SELECTION_UPDATED",e.WIDGETS_CREATED="WIDGETS_CREATED",e.WIDGETS_DELETED="WIDGETS_DELETED",e.WIDGETS_TRANSFORMATION_UPDATED="WIDGETS_TRANSFORMATION_UPDATED",e.COMMENT_CREATED="COMMENT_CREATED",e.ESC_PRESSED="ESC_PRESSED",e.CANVAS_CLICKED="CANVAS_CLICKED",e.ALL_WIDGETS_LOADED="ALL_WIDGETS_LOADED",e.DATA_BROADCASTED="DATA_BROADCASTED",e.METADATA_CHANGED="METADATA_CHANGED",e.ONLINE_USERS_CHANGED="ONLINE_USERS_CHANGED"}(Me||(Me={}));const Pe=Me;var ye,we;!function(e){e[e.RECTANGLE=3]="RECTANGLE",e[e.CIRCLE=4]="CIRCLE",e[e.TRIANGLE=5]="TRIANGLE",e[e.BUBBLE=6]="BUBBLE",e[e.ROUNDER=7]="ROUNDER",e[e.RHOMBUS=8]="RHOMBUS",e[e.PARALL=10]="PARALL",e[e.STAR=11]="STAR",e[e.ARROW_RIGHT=12]="ARROW_RIGHT",e[e.ARROW_LEFT=13]="ARROW_LEFT",e[e.TEXT_RECT=14]="TEXT_RECT",e[e.PILL=15]="PILL",e[e.PENTAGON=16]="PENTAGON",e[e.HEXAGON=17]="HEXAGON",e[e.OCTAGON=18]="OCTAGON",e[e.TRAPEZE=19]="TRAPEZE",e[e.PREDEFINED_PROCESS=20]="PREDEFINED_PROCESS",e[e.ARROW_LEFT_RIGHT=21]="ARROW_LEFT_RIGHT",e[e.CLOUD=22]="CLOUD",e[e.BRACE_LEFT=23]="BRACE_LEFT",e[e.BRACE_RIGHT=24]="BRACE_RIGHT",e[e.CROSS=25]="CROSS",e[e.BARREL=26]="BARREL"}(ye||(ye={})),function(e){e[e.SQUARE=0]="SQUARE",e[e.RECTANGLE=1]="RECTANGLE"}(we||(we={}));const Fe=we;var He;!function(e){e[e.DOTTED=0]="DOTTED",e[e.DASHED=1]="DASHED",e[e.NORMAL=2]="NORMAL",e[e.DASH_DOTTED=3]="DASH_DOTTED",e[e.DASHED_DENSED=4]="DASHED_DENSED",e[e.DASHED_SHORT=5]="DASHED_SHORT",e[e.DASHED_SHORT_DENSED=6]="DASHED_SHORT_DENSED"}(He||(He={}));const Be=He;var ke;!function(e){e[e.ARIAL=0]="ARIAL",e[e.CURSIVE=1]="CURSIVE",e[e.ABRIL_FATFACE=2]="ABRIL_FATFACE",e[e.BANGERS=3]="BANGERS",e[e.EB_GARAMOND=4]="EB_GARAMOND",e[e.GEORGIA=5]="GEORGIA",e[e.GRADUATE=6]="GRADUATE",e[e.GRAVITAS_ONE=7]="GRAVITAS_ONE",e[e.FREDOKA_ONE=8]="FREDOKA_ONE",e[e.NIXIE_ONE=9]="NIXIE_ONE",e[e.OPEN_SANS=10]="OPEN_SANS",e[e.PERMANENT_MARKER=11]="PERMANENT_MARKER",e[e.PT_SANS=12]="PT_SANS",e[e.PT_SANS_NARROW=13]="PT_SANS_NARROW",e[e.PT_SERIF=14]="PT_SERIF",e[e.RAMMETTO_ONE=15]="RAMMETTO_ONE",e[e.ROBOTO=16]="ROBOTO",e[e.ROBOTO_CONDENSED=17]="ROBOTO_CONDENSED",e[e.ROBOTO_SLAB=18]="ROBOTO_SLAB",e[e.CAVEAT=19]="CAVEAT",e[e.TIMES_NEW_ROMAN=20]="TIMES_NEW_ROMAN",e[e.TITAN_ONE=21]="TITAN_ONE",e[e.LEMON_TUESDAY=22]="LEMON_TUESDAY",e[e.ROBOTO_MONO=23]="ROBOTO_MONO",e[e.NOTO_SANS=24]="NOTO_SANS",e[e.PLEX_SANS=25]="PLEX_SANS",e[e.PLEX_SERIF=26]="PLEX_SERIF",e[e.PLEX_MONO=27]="PLEX_MONO",e[e.SPOOF=28]="SPOOF",e[e.TIEMPOS_TEXT=29]="TIEMPOS_TEXT",e[e.NOTO_SERIF=1e3]="NOTO_SERIF",e[e.NOTO_SERIF_JP=1001]="NOTO_SERIF_JP",e[e.NOTO_SANS_JP=1002]="NOTO_SANS_JP",e[e.NOTO_SANS_HEBREW=1003]="NOTO_SANS_HEBREW",e[e.NOTO_SERIF_KR=1004]="NOTO_SERIF_KR",e[e.NOTO_SANS_KR=1005]="NOTO_SANS_KR",e[e.SERIF=1006]="SERIF",e[e.SANS_SERIF=1007]="SANS_SERIF",e[e.MONOSPACE=1008]="MONOSPACE"}(ke||(ke={}));const xe=ke;var Ue;!function(e){e[e.DASHED=1]="DASHED",e[e.NORMAL=2]="NORMAL",e[e.STRONG=3]="STRONG",e[e.DOTTED=4]="DOTTED"}(Ue||(Ue={}));const We=Ue;var Ge;!function(e){e[e.NONE=0]="NONE",e[e.ARC_ARROW=1]="ARC_ARROW",e[e.RHOMBUS=2]="RHOMBUS",e[e.FILLED_RHOMBUS=3]="FILLED_RHOMBUS",e[e.CIRCLE=4]="CIRCLE",e[e.FILLED_CIRCLE=5]="FILLED_CIRCLE",e[e.ARROW=6]="ARROW",e[e.OPEN_ARROW=7]="OPEN_ARROW",e[e.FILLED_ARROW=8]="FILLED_ARROW",e[e.ROUNDED_ARROW=9]="ROUNDED_ARROW",e[e.ERD_ONE=10]="ERD_ONE",e[e.ERD_MANY=11]="ERD_MANY",e[e.ERD_ONLY_ONE=12]="ERD_ONLY_ONE",e[e.ERD_ZERO_OR_ONE=13]="ERD_ZERO_OR_ONE",e[e.ERD_ONE_OR_MANY=14]="ERD_ONE_OR_MANY",e[e.ERD_ZERO_OR_MANY=15]="ERD_ZERO_OR_MANY"}(Ge||(Ge={}));const Ve=Ge;var Ke;!function(e){e.LEFT="l",e.CENTER="c",e.RIGHT="r"}(Ke||(Ke={}));const ze=Ke;var Xe;!function(e){e[e.LINE=1]="LINE",e[e.ARROW=2]="ARROW",e[e.ARROW_SKETCH=9]="ARROW_SKETCH",e[e.ARROW_SQUARE=3]="ARROW_SQUARE"}(Xe||(Xe={}));const Ye=Xe;var Ze;!function(e){e.TOP="t",e.MIDDLE="m",e.BOTTOM="b"}(Ze||(Ze={}));const je=Ze;function Qe(e,t,n){"function"==typeof n?n().catch((function(e){if(void 0!==e)throw new Error(e)})).then((function(n){n&&qe(e,t,n)})):qe(e,t,n)}function Je(e,t){var n;it().addOnWidgetSelectedListener(t),e.addButtonExtensionPoint(((n={}).hasWidgetMenuItems=!0,n))}function qe(e,t,n){var o;e.addButtonExtensionPoint(((o={})[t]=function(e,t){!function(e,t){var n=$e[e];if(!n)throw new Error("Unknown extension point: ".concat(e));n(t)}(e,t);var n={};for(var o in t)"onClick"!==o?n[o]=t[o]:it().addButtonClickListener(e,t[o]);return n}(t,n),o))}var $e={toolbar:function(e){et(e,"toolbar","title","string"),et(e,"toolbar","toolbarSvgIcon","string"),et(e,"toolbar","librarySvgIcon","string"),et(e,"toolbar","onClick","function")},bottomBar:function(e){et(e,"bottomBar","title","string"),et(e,"bottomBar","svgIcon","string"),et(e,"bottomBar","onClick","function")},exportMenu:function(e){et(e,"exportMenu","title","string"),et(e,"exportMenu","svgIcon","string"),et(e,"exportMenu","onClick","function")},getWidgetMenuItems:function(e){return!0},hasWidgetMenuItems:function(e){return!0}};function et(e,t,n,o){if(typeof e[n]!==o)throw new Error("".concat(n,":").concat(o," is required for 'extensionPoints.").concat(t,"'"))}var tt=0;var nt=new Ce,ot=new S(nt);function it(){return ot}function rt(e,t){window.parent.postMessage({rtbSuperCommandID:e,data:t},"*")}var st,at,ct=new E((function(e){rt(l.IFRAME_CHANNEL_COMMAND,e)}),(function(e){return ot})),ut=function(e,t){return ct.sendCommand(e,st,t)},dt=new Promise((function(e){at=e}));window.addEventListener("message",(function(e){switch(e.data.rtbEnableCommandsLog&&function(e,t,n,o){if(void 0===o&&(o=!1),n.data.rtbSuperCommandID)if(n.data.rtbSuperCommandID===l.IFRAME_CHANNEL_COMMAND){if("IS_RESPONSE_FOR_SOME_COMMAND"===n.data.data.commandId&&!o)return;console.info("%c".concat(e),"color: ".concat(t,";"),n.data.data.commandId,n.data)}else console.info("%c".concat(e),"color: ".concat(t,";"),n.data)}("APP → PLUGIN","blue",e,"showResponses"===e.data.rtbEnableCommandsLog),e.data.rtbSuperCommandID){case l.HELLO_IFRAME_FROM_APP:var t=e.data.data;st=t,O("",Et,t.descriptor,ut),Et.board&&(Et.board.ui.initDraggableItemsContainer=function(e){return function(t,n){var o=++tt;_e(t),it().setDraggableItemOption(o,n);var i=function(i){i.preventDefault();var r=function(e,t,n){return Array.from(t.querySelectorAll(n)).find((function(t){return t.contains(e)}))}(i.target,t,n.draggableItemSelector);if(r){it().setDraggableItem(r);var s="touchstart"===i.type;Te(i,t,(function(){n.onClick&&n.onClick(r)}),(function(){if(!n.getDraggableItemPreview)throw new Error("getDraggableItemPreview callback should be provided");var t=n.getDraggableItemPreview(r);e.onDraggableItemStartDrag(o,{isTouchEvent:s,preview:t})}),n.dragDirection||"horizontal");var a=function(t){var n=t.touches[0];e.onDraggableItemTouchMove(o,n.clientX,n.clientY)},c=function(){e.onDraggableItemTouchEnd(o),d()},u=function(){e.onDraggableItemTouchCancel(o),d(),n.onCancel&&n.onCancel()},d=function(){t.removeEventListener("touchmove",a),t.removeEventListener("touchcancel",u),t.removeEventListener("touchend",c)};t.addEventListener("touchmove",a),t.addEventListener("touchcancel",u),t.addEventListener("touchend",c),i.stopPropagation()}};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i),t.addEventListener("dragstart",(function(e){e.stopPropagation(),e.preventDefault()}))}}(Et),Et.board.ui.resizeTo=(r=Et,s=function(e){r.board.ui.resizeToInner({width:e.clientWidth,height:e.clientHeight})},function(e){if("string"==typeof e){var t=document.querySelector(e);t&&s(t)}else"attributes"in e?s(e):r.board.ui.resizeToInner(e)}),Et.helpers=new be(Et),function(e){e.board.utils={unionWidgetBounds:function(e){if(e.length<1)return{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0};for(var t=e[0].bounds,n=t.left,o=t.top,i=t.right,r=t.bottom,s=1;s<e.length;s++)(t=e[s].bounds).left<n&&(n=t.left),t.top<o&&(o=t.top),t.right>i&&(i=t.right),t.bottom>r&&(r=t.bottom);var a=i-n,c=r-o;return{left:n,top:o,right:i,bottom:r,width:a,height:c,x:n+a/2,y:o+c/2}}}}(Et),function(e){e.board.viewport.getBoardUIPadding=function(){return{left:60,top:60,bottom:60,right:0}}}(Et),Et.enums={event:Pe,shapeType:ye,stickerType:Fe,borderStyle:Be,fontFamily:xe,textAlign:ze,textAlignVertical:je,lineStyle:We,lineType:Ye,lineArrowheadStyle:Ve},n=nt,(i=o=Et).addListener=function(e,t){return n.addEventListener(e,t),o.startListenEvent(e)},i.removeListener=function(e,t){return n.removeEventListener(e,t),Promise.resolve()},i.broadcastData=function(e){return o.broadcastEventInner({type:"BROADCAST_DATA",data:e})},window.addEventListener("keyup",(function(e){"Escape"===e.key&&o.broadcastEventInner({type:"ESC_PRESSED"})}))),function(e,t){e.getClientId=function(){return t}}(Et,t.pluginId),at();break;case l.IFRAME_CHANNEL_COMMAND:dt.then((function(){ct.processCommand(e.data.data)}))}var n,o,i,r,s}));var Et={onReady:function(e){dt.then(e)},initializeSettings:function(e){return ut(".initializeSettingsInner",[{iframeHeight:e?parseInt(e.iframeHeight,10):void 0}])},initialize:function(e){if(void 0===e&&(e={extensionPoints:{}}),!ut)throw new Error("Call sdk methods inside onReady() callback");return Et.initializeInner().then((function(){!function(e,t){if(t.extensionPoints)for(var n in t.extensionPoints){var o=t.extensionPoints[n];"getWidgetMenuItems"===n?Je(e,o):Qe(e,n,o)}}(Et,e)}))}},pt=window;pt.miro=pt.rtb=Et,rt(l.HELLO_APP_FROM_IFRAME,{})})()})();